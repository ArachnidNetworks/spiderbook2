{% extends "default.html" %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/home.css') }}">
{% endblock styles %}

{% block page_header %}
    <a href="{{ url_for('create_post') }}" >
        <button>NEW THREAD</button>
    </a>
    <form action="{{ url_for('create_post') }}"  method="post" class="post-creator"
    enctype="multipart/form-data">
        <input type="text" name="author" placeholder="Author"><input type="text" name="category"
        placeholder="Category">
        <div class="linebreak"></div>
        <input type="text" name="title" placeholder="Title">
        <div class="linebreak"></div>
        <textarea name="body" style="min-width: 90%; min-height: 400px" placeholder="Body"></textarea><br>
        <div class="linebreak"></div>
        <label class="filein-btn" for="filein-id">Choose a file</label>
        <input type="file" name="imgbin" class="filein" id="filein-id">
        <div class="linebreak"></div>
        <div class="linebreak"></div>
        <input class="submit-btn" type="submit" value="Submit">
    </form>
{% endblock page_header %}

{% block content %}
<main>
    {% for p in posts %}
        <article class="post">
            <header>
                <h1>
                    <a href="{{ url_for('indpost', pid=p['pid']) }}">
                        {{ p['title'] }}
                    </a>
                </h1>
            </header>
            <div class="post-content">
                {% if p['imgurl'] %}
                    <img src="{{ url_for('static', filename='images/'+p['imgurl']) }}">
                {% else %}
                    <img src="{{ url_for('static', filename='images/noimage.png') }}">
                {% endif %}
            </div>
        </article>
    {% endfor %}
</main>
{% endblock content %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/home.js') }}" ></script>
{% endblock scripts %}
